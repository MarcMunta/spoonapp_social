{% extends "layouts/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}SpoonApp Social{% endblock %}
{% block body_class %}buscador-page{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/feed.css' %}">
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
<link rel="stylesheet" href="{% static 'css/aos.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row mb-3">
    <div class="col-md-6 mb-2">
      <input type="text" class="form-control" placeholder="{% trans 'Search users' %}" disabled>
    </div>
    <div class="col-md-6 mb-2">
      <select class="form-select" disabled>
        <option selected>{% trans 'All categories' %}</option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3 mb-4">
        <div class="friends-bubbles" data-show-all="true" data-no-auto-update="true">
          {% for u in random_users|slice:":10" %}
          <div class="friend-bubble position-relative">
          <a href="{% url 'profile' u.username %}" class="d-flex align-items-center text-decoration-none flex-grow-1">
            {% if u.profile.profile_picture %}
            <img src="{{ u.profile.profile_picture_data_url }}" alt="{{ u.username }}" style="border-color: {{ u.profile.bubble_color }};">
            {% else %}
            <img src="{{ default_avatar_data_url }}" alt="{{ u.username }}" style="border-color: {{ u.profile.bubble_color }};">
            {% endif %}
            <div class="friend-info">
              <div class="friend-name">{{ u.username }}</div>
            </div>
          </a>
          <span class="profile-color-indicator" style="background-color: {{ u.profile.bubble_color }};"></span>
        </div>
        {% empty %}
        <p>{% trans 'No users available.' %}</p>
        {% endfor %}
      </div>
    </div>
    <div class="col-md-9">
      <div class="row g-3">
        {% for post in random_posts %}
        <div class="col-md-6">
          {% include 'partials/posts/post_grid_card.html' with post=post %}
        </div>
        {% empty %}
        <p>{% trans 'No posts available.' %}</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/aos.js' %}"></script>
<script src="{% static 'js/post_animations.js' %}"></script>
<script>AOS.init({ once: true });</script>
{% endblock %}

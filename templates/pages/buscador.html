{% extends "layouts/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}SpoonApp Social{% endblock %}
{% block body_class %}buscador-page{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/feed.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="mb-3">
    <!-- Future filter controls -->
    <input type="text" class="form-control" placeholder="{% trans 'Filter...' %}" disabled>
  </div>
  <div class="row">
    <div class="col-md-3 mb-4">
      <div class="friends-bubbles">
        {% for u in random_users %}
        <div class="friend-bubble">
          <a href="{% url 'profile' u.username %}" class="d-flex align-items-center text-decoration-none flex-grow-1">
            {% if u.profile.profile_picture %}
            <img src="{{ u.profile.profile_picture_data_url }}" alt="{{ u.username }}" style="border-color: {{ u.profile.bubble_color }};">
            {% else %}
            <img src="{{ default_avatar_data_url }}" alt="{{ u.username }}" style="border-color: {{ u.profile.bubble_color }};">
            {% endif %}
            <div class="friend-info">
              <div class="friend-name">{{ u.username }}</div>
            </div>
          </a>
        </div>
        {% empty %}
        <p>{% trans 'No users available.' %}</p>
        {% endfor %}
      </div>
    </div>
    <div class="col-md-9">
      <div class="row g-3">
        {% for post in random_posts %}
        <div class="col-md-6">
          {% include 'partials/posts/post_card.html' with post=post %}
        </div>
        {% empty %}
        <p>{% trans 'No posts available.' %}</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

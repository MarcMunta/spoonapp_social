{% extends "layouts/base.html" %}
{% load i18n humanize %}

{% block title %}{% trans "User Finder" %}{% endblock %}
{% block body_class %}buscador-page{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row justify-content-center">
    {% for u in random_users %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
      <div class="card text-center h-100">
        {% if u.profile.profile_picture %}
        <img src="{{ u.profile.profile_picture_data_url }}" class="card-img-top mx-auto mt-3 rounded-circle" alt="{{ u.username }}" style="border: 4px solid {{ u.profile.bubble_color }}; width: 100px; height: 100px; object-fit: cover;">
        {% else %}
        <img src="{{ default_avatar_data_url }}" class="card-img-top mx-auto mt-3 rounded-circle" alt="{{ u.username }}" style="border: 4px solid {{ u.profile.bubble_color }}; width: 100px; height: 100px; object-fit: cover;">
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ u.username }}</h5>
          <p class="card-text text-muted">
            {% if u.profile.online %}{% trans "Online" %}
            {% elif u.profile.last_seen %}{% blocktrans %}Last seen: {{ u.profile.last_seen|naturaltime }}{% endblocktrans %}
            {% else %}{% trans "Offline" %}
            {% endif %}
          </p>
        </div>
      </div>
    </div>
    {% empty %}
    <p>{% trans "No users available." %}</p>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% extends "layouts/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}SpoonApp Social{% endblock %}
{% block body_class %}search-page{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/search.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-4 search-grid">
  <div class="row">
    <div class="col-md-3 mb-4">
      <h5 class="mb-3">{% trans "Users" %}</h5>
      <div class="search-users-grid">
        {% for u in random_users %}
        <a href="{% url 'profile' u.username %}" class="user-bubble d-flex flex-column align-items-center text-decoration-none">
          {% if u.profile.profile_picture %}
          <img src="{{ u.profile.profile_picture_data_url }}" alt="{{ u.username }}" style="border-color: {{ u.profile.bubble_color }};">
          {% else %}
          <img src="{{ default_avatar_data_url }}" alt="{{ u.username }}" style="border-color: {{ u.profile.bubble_color }};">
          {% endif %}
          <span class="mt-1">{{ u.username }}</span>
        </a>
        {% empty %}
        <p class="text-muted">{% trans "No users found." %}</p>
        {% endfor %}
      </div>
    </div>
    <div class="col-md-9">
      <div class="search-filters mb-3"><!-- Optional filters --></div>
      <div class="row g-3">
        {% for post in posts %}
        <div class="col-sm-6 col-lg-4">
          <div class="post search-post">
            {% include 'partials/posts/post_card.html' with post=post %}
          </div>
        </div>
        {% empty %}
        <p class="text-muted">{% trans 'No posts available.' %}</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/search_page.js' %}"></script>
{% endblock %}
